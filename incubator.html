<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CodeLens Visualizer - Java</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/clike/clike.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/theme/monokai.min.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .CodeMirror {
            height: 600px;
            font-size: 14px;
            border-radius: 8px;
        }
        .cm-current-line-highlight {
            background-color: rgba(250, 204, 21, 0.15);
            border-left: 3px solid #facc15;
        }
        .cm-previous-line-highlight {
            background-color: rgba(59, 130, 246, 0.15);
            border-left: 3px solid #3b82f6;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useCallback, useMemo } = React;

        // ============ API SERVICE ============
        const API_BASE_URL = 'http://localhost:8080/api'; // Change this to your backend URL

        const apiService = {
            executeCode: async (code) => {
                try {
                    const response = await fetch(`${API_BASE_URL}/execute`, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ code }),
                    });
                    if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
                    return await response.json();
                } catch (error) {
                    console.error('API call failed:', error);
                    throw error;
                }
            },

            getExecutionSteps: async (code) => {
                try {
                    const response = await fetch(`${API_BASE_URL}/execution-steps`, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ code }),
                    });
                    if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
                    return await response.json();
                } catch (error) {
                    console.error('API call failed:', error);
                    throw error;
                }
            },

            compileCode: async (code) => {
                try {
                    const response = await fetch(`${API_BASE_URL}/compile`, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ code }),
                    });
                    if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
                    return await response.json();
                } catch (error) {
                    console.error('API call failed:', error);
                    throw error;
                }
            },

            saveCode: async (code, filename) => {
                try {
                    const response = await fetch(`${API_BASE_URL}/save`, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ code, filename }),
                    });
                    if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
                    return await response.json();
                } catch (error) {
                    console.error('API call failed:', error);
                    throw error;
                }
            },

            loadCode: async (filename) => {
                try {
                    const response = await fetch(`${API_BASE_URL}/load/${filename}`);
                    if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
                    return await response.json();
                } catch (error) {
                    console.error('API call failed:', error);
                    throw error;
                }
            },

            getSavedFiles: async () => {
                try {
                    const response = await fetch(`${API_BASE_URL}/files`);
                    if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
                    return await response.json();
                } catch (error) {
                    console.error('API call failed:', error);
                    throw error;
                }
            }
        };

        // ============ MOCK DATA (for testing without backend) ============
        const mockExecutionSteps = [
            { line: 2, action: 'method_call', method: 'main', stack: [{ method: 'main(String[])', line: 2 }] },
            { line: 3, action: 'print', output: 'Hello, World!', stack: [{ method: 'main(String[])', line: 3 }] },
            { line: 4, action: 'declare', variable: { name: 'x', value: '5' }, stack: [{ method: 'main(String[])', line: 4 }] },
            { line: 5, action: 'declare', variable: { name: 'y', value: '10' }, stack: [{ method: 'main(String[])', line: 5 }] },
            { line: 6, action: 'calculate', variable: { name: 'sum', value: '15' }, stack: [{ method: 'main(String[])', line: 6 }] },
            { line: 7, action: 'print', output: 'Sum: 15', stack: [{ method: 'main(String[])', line: 7 }] },
            { line: 9, action: 'condition', stack: [{ method: 'main(String[])', line: 9 }] },
            { line: 10, action: 'print', output: 'Sum is greater than 10', stack: [{ method: 'main(String[])', line: 10 }] },
        ];

        const USE_MOCK_DATA = true; // Set to false to use real API

        // ============ EDITOR COMPONENT ============
        const EditorPanel = ({ code, setCode, currentLine, previousLine, isDark, readOnly }) => {
            const editorRef = React.useRef(null);
            const cmInstance = React.useRef(null);

            useEffect(() => {
                if (!editorRef.current) return;

                cmInstance.current = CodeMirror(editorRef.current, {
                    value: code,
                    mode: 'text/x-java',
                    theme: isDark ? 'monokai' : 'default',
                    lineNumbers: true,
                    readOnly: readOnly,
                    lineWrapping: true,
                });

                cmInstance.current.on('change', (cm) => {
                    if (setCode && !readOnly) {
                        setCode(cm.getValue());
                    }
                });

                return () => {
                    if (cmInstance.current) {
                        cmInstance.current.toTextArea();
                    }
                };
            }, []);

            useEffect(() => {
                if (cmInstance.current) {
                    cmInstance.current.setOption('readOnly', readOnly);
                }
            }, [readOnly]);

            useEffect(() => {
                if (cmInstance.current) {
                    const value = cmInstance.current.getValue();
                    if (value !== code) {
                        cmInstance.current.setValue(code);
                    }
                }
            }, [code]);

            useEffect(() => {
                if (!cmInstance.current) return;

                // Clear all line classes
                for (let i = 0; i < cmInstance.current.lineCount(); i++) {
                    cmInstance.current.removeLineClass(i, 'background');
                }

                if (currentLine) {
                    cmInstance.current.addLineClass(currentLine - 1, 'background', 'cm-current-line-highlight');
                }
                if (previousLine && previousLine !== currentLine) {
                    cmInstance.current.addLineClass(previousLine - 1, 'background', 'cm-previous-line-highlight');
                }
            }, [currentLine, previousLine]);

            return <div ref={editorRef}></div>;
        };

        // ============ HEADER COMPONENT ============
        const Header = ({ isDark, onToggleTheme, onBack }) => (
            <div className="flex justify-between items-center mb-6 max-w-7xl mx-auto">
                <button
                    onClick={onBack}
                    className={`flex items-center gap-2 px-4 py-2 rounded transition ${
                        isDark ? 'bg-gray-800 text-white hover:bg-gray-700' : 'bg-white text-gray-900 hover:bg-gray-100 border border-gray-300'
                    }`}
                >
                    <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M10 19l-7-7m0 0l7-7m-7 7h18" />
                    </svg>
                    Back
                </button>

                <button
                    onClick={onToggleTheme}
                    className={`flex items-center gap-2 px-4 py-2 rounded transition ${
                        isDark ? 'bg-gray-800 text-white hover:bg-gray-700' : 'bg-white text-gray-900 hover:bg-gray-100 border border-gray-300'
                    }`}
                >
                    {isDark ? (
                        <>
                            <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" />
                            </svg>
                            Light
                        </>
                    ) : (
                        <>
                            <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" />
                            </svg>
                            Dark
                        </>
                    )}
                </button>
            </div>
        );

        // ============ CONTROL PANEL ============
        const ControlPanel = ({ isExecuting, currentStep, totalSteps, currentLine, executionSpeed, onStart, onPause, onStepForward, onStepBackward, onReset, onSpeedChange, isDark, disabled }) => (
            <div className={`mb-6 p-4 rounded-lg ${isDark ? 'bg-gray-800' : 'bg-white border border-gray-300'}`}>
                <div className="flex flex-wrap gap-3 items-center">
                    <button onClick={onStart} disabled={isExecuting || disabled} className={`flex items-center gap-2 px-4 py-2 rounded transition ${(isExecuting || disabled) ? 'bg-gray-500 cursor-not-allowed' : 'bg-green-600 hover:bg-green-700'} text-white`}>
                        <svg className="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z" />
                        </svg>
                        Start
                    </button>

                    <button onClick={onPause} disabled={!isExecuting} className={`flex items-center gap-2 px-4 py-2 rounded transition ${!isExecuting ? 'bg-gray-500 cursor-not-allowed' : isDark ? 'bg-yellow-600 hover:bg-yellow-700' : 'bg-yellow-500 hover:bg-yellow-600'} text-white`}>
                        <svg className="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M5.5 3.5A1.5 1.5 0 017 5v10a1.5 1.5 0 01-3 0V5a1.5 1.5 0 011.5-1.5zM13 3.5A1.5 1.5 0 0114.5 5v10a1.5 1.5 0 01-3 0V5A1.5 1.5 0 0113 3.5z" />
                        </svg>
                        Pause
                    </button>

                    <button onClick={onStepBackward} disabled={currentStep <= 0} className={`flex items-center gap-2 px-4 py-2 rounded transition ${currentStep <= 0 ? 'bg-gray-500 cursor-not-allowed' : isDark ? 'bg-blue-600 hover:bg-blue-700' : 'bg-blue-500 hover:bg-blue-600'} text-white`}>
                        <svg className="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8.445 14.832A1 1 0 0010 14v-2.798l5.445 3.63A1 1 0 0017 14V6a1 1 0 00-1.555-.832L10 8.798V6a1 1 0 00-1.555-.832l-6 4a1 1 0 000 1.664l6 4z" />
                        </svg>
                        Step Back
                    </button>

                    <button onClick={onStepForward} disabled={currentStep >= totalSteps - 1} className={`flex items-center gap-2 px-4 py-2 rounded transition ${currentStep >= totalSteps - 1 ? 'bg-gray-500 cursor-not-allowed' : isDark ? 'bg-blue-600 hover:bg-blue-700' : 'bg-blue-500 hover:bg-blue-600'} text-white`}>
                        Step Forward
                        <svg className="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M4.555 5.168A1 1 0 003 6v8a1 1 0 001.555.832L10 11.202V14a1 1 0 001.555.832l6-4a1 1 0 000-1.664l-6-4A1 1 0 0010 6v2.798l-5.445-3.63z" />
                        </svg>
                    </button>

                    <button onClick={onReset} className={`flex items-center gap-2 px-4 py-2 rounded transition ${isDark ? 'bg-red-600 hover:bg-red-700' : 'bg-red-500 hover:bg-red-600'} text-white`}>
                        <svg className="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                            <path fillRule="evenodd" d="M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z" clipRule="evenodd" />
                        </svg>
                        Reset
                    </button>

                    <div className="ml-auto flex items-center gap-3">
                        <label className={`text-sm ${isDark ? 'text-gray-300' : 'text-gray-700'}`}>Speed:</label>
                        <input type="range" min="200" max="2000" step="200" value={executionSpeed} onChange={(e) => onSpeedChange(Number(e.target.value))} className="w-32" />
                        <span className={`text-sm ${isDark ? 'text-gray-400' : 'text-gray-600'}`}>{executionSpeed}ms</span>
                    </div>
                </div>

                <div className={`mt-3 text-sm ${isDark ? 'text-gray-400' : 'text-gray-600'}`}>
                    Step: {currentStep + 1} / {totalSteps}
                    {currentLine && ` | Current Line: ${currentLine}`}
                </div>
            </div>
        );

        // ============ VARIABLE STATE DISPLAY ============
        const VariableStateDisplay = ({ variables, isDark }) => (
            <div className={`p-4 rounded-lg ${isDark ? 'bg-gray-800' : 'bg-white border border-gray-300'}`}>
                <h3 className={`text-lg font-bold mb-3 ${isDark ? 'text-white' : 'text-gray-900'}`}>Variable State</h3>
                {variables.length === 0 ? (
                    <p className={`text-sm ${isDark ? 'text-gray-400' : 'text-gray-600'}`}>No variables yet. Start execution to see variable states.</p>
                ) : (
                    <div className="space-y-2">
                        {variables.map((variable, index) => (
                            <div key={index} className={`p-3 rounded flex justify-between items-center ${isDark ? 'bg-gray-700' : 'bg-gray-50'}`}>
                                <span className={`font-mono font-semibold ${isDark ? 'text-blue-400' : 'text-blue-600'}`}>{variable.name}</span>
                                <span className={`font-mono ${isDark ? 'text-green-400' : 'text-green-600'}`}>{variable.value}</span>
                            </div>
                        ))}
                    </div>
                )}
            </div>
        );

        // ============ OUTPUT CONSOLE ============
        const OutputConsole = ({ output, isDark }) => (
            <div className={`p-4 rounded-lg ${isDark ? 'bg-gray-800' : 'bg-white border border-gray-300'}`}>
                <h3 className={`text-lg font-bold mb-3 ${isDark ? 'text-white' : 'text-gray-900'}`}>Console Output</h3>
                <div className={`p-3 rounded font-mono text-sm min-h-[100px] max-h-[200px] overflow-y-auto ${isDark ? 'bg-gray-900 text-green-400' : 'bg-gray-50 text-gray-900'}`}>
                    {output.length === 0 ? (
                        <span className={isDark ? 'text-gray-500' : 'text-gray-400'}>Output will appear here...</span>
                    ) : (
                        output.map((line, index) => <div key={index}>{line}</div>)
                    )}
                </div>
            </div>
        );

        // ============ CALL STACK ============
        const CallStack = ({ stack, isDark }) => (
            <div className={`p-4 rounded-lg ${isDark ? 'bg-gray-800' : 'bg-white border border-gray-300'}`}>
                <h3 className={`text-lg font-bold mb-3 ${isDark ? 'text-white' : 'text-gray-900'}`}>Call Stack</h3>
                {stack.length === 0 ? (
                    <p className={`text-sm ${isDark ? 'text-gray-400' : 'text-gray-600'}`}>No active function calls</p>
                ) : (
                    <div className="space-y-2">
                        {stack.map((call, index) => (
                            <div key={index} className={`p-3 rounded ${isDark ? 'bg-gray-700' : 'bg-gray-50'}`}>
                                <div className={`font-mono font-semibold ${isDark ? 'text-purple-400' : 'text-purple-600'}`}>{call.method}</div>
                                <div className={`text-sm ${isDark ? 'text-gray-400' : 'text-gray-600'}`}>Line {call.line}</div>
                            </div>
                        ))}
                    </div>
                )}
            </div>
        );

        // ============ MAIN APP ============
        const CodeLensVisualizer = () => {
            const [code, setCode] = useState(`public class HelloWorld {
    public static void main(String[] args) {
        System.out.println("Hello, World!");
        int x = 5;
        int y = 10;
        int sum = x + y;
        System.out.println("Sum: " + sum);
        
        if (sum > 10) {
            System.out.println("Sum is greater than 10");
        }
    }
}`);
            const [isDark, setIsDark] = useState(true);
            const [isExecuting, setIsExecuting] = useState(false);
            const [isLoading, setIsLoading] = useState(false);
            const [error, setError] = useState(null);
            const [executionSteps, setExecutionSteps] = useState([]);
            const [currentStep, setCurrentStep] = useState(-1);
            const [variables, setVariables] = useState([]);
            const [output, setOutput] = useState([]);
            const [callStack, setCallStack] = useState([]);
            const [currentLine, setCurrentLine] = useState(null);
            const [previousLine, setPreviousLine] = useState(null);
            const [executionSpeed, setExecutionSpeed] = useState(1000);

            const executeStep = useCallback((step) => {
                const stepData = executionSteps[step];
                if (!stepData) return;

                setPreviousLine(currentLine);
                setCurrentLine(stepData.line);
                setCallStack(stepData.stack || []);

                if (stepData.action === 'print' && stepData.output) {
                    setOutput(prev => [...prev, stepData.output]);
                } else if ((stepData.action === 'declare' || stepData.action === 'calculate') && stepData.variable) {
                    setVariables(prev => {
                        const existing = prev.findIndex(v => v.name === stepData.variable.name);
                        if (existing >= 0) {
                            const newVars = [...prev];
                            newVars[existing] = stepData.variable;
                            return newVars;
                        }
                        return [...prev, stepData.variable];
                    });
                }
            }, [executionSteps, currentLine]);

            const handleStart = async () => {
                setIsLoading(true);
                setError(null);

                try {
                    let steps;
                    if (USE_MOCK_DATA) {
                        steps = mockExecutionSteps;
                    } else {
                        const result = await apiService.getExecutionSteps(code);
                        if (!result.success) {
                            setError(result.error || 'Failed to get execution steps');
                            setIsLoading(false);
                            return;
                        }
                        steps = result.steps || [];
                    }

                    setExecutionSteps(steps);
                    setCurrentStep(0);
                    setVariables([]);
                    setOutput([]);
                    setCallStack([]);
                    setCurrentLine(null);
                    setPreviousLine(null);
                    setIsExecuting(true);
                } catch (err) {
                    setError(`Error: ${err.message}`);
                } finally {
                    setIsLoading(false);
                }
            };

            const handlePause = () => setIsExecuting(false);
            const handleReset = () => {
                setIsExecuting(false);
                setCurrentStep(-1);
                setVariables([]);
                setOutput([]);
                setCallStack([]);
                setCurrentLine(null);
                setPreviousLine(null);
                setError(null);
            };

            const handleStepForward = () => {
                if (currentStep < executionSteps.length - 1) {
                    const nextStep = currentStep + 1;
                    setCurrentStep(nextStep);
                    executeStep(nextStep);
                }
            };

            const handleStepBackward = () => {
                if (currentStep > 0) {
                    const prevStep = currentStep - 1;
                    setCurrentStep(prevStep);
                    setVariables([]);
                    setOutput([]);
                    setCallStack([]);
                    
                    for (let i = 0; i <= prevStep; i++) {
                        const stepData = executionSteps[i];
                        if (stepData.action === 'print' && stepData.output) {
                            setOutput(prev => [...prev, stepData.output]);
                        } else if ((stepData.action === 'declare' || stepData.action === 'calculate') && stepData.variable) {
                            setVariables(prev => {
                                const existing = prev.findIndex(v => v.name === stepData.variable.name);
                                if (existing >= 0) {
                                    const newVars = [...prev];
                                    newVars[existing] = stepData.variable;
                                    return newVars;
                                }
                                return [...prev, stepData.variable];
                            });
                        }
                    }
                    
                    const prevStepData = executionSteps[prevStep];
                    setPreviousLine(prevStep > 0 ? executionSteps[prevStep - 1].line : null);
                    setCurrentLine(prevStepData.line);
                    setCallStack(prevStepData.stack || []);
                }
            };

            useEffect(() => {
                if (isExecuting && currentStep < executionSteps.length - 1) {
                    const timer = setTimeout(() => {
                        handleStepForward();
                    }, executionSpeed);
                    return () => clearTimeout(timer);
                } else if (currentStep >= executionSteps.length - 1 && isExecuting) {
                    setIsExecuting(false);
                }
            }, [isExecuting, currentStep, executionSteps.length, executionSpeed]);

            return (
                <div className={`min-h-screen ${isDark ? 'bg-gray-900' : 'bg-gray-50'}`}>
                    <div className="p-6">
                        <Header isDark={isDark} onToggleTheme={() => setIsDark(!isDark)} onBack={() => console.log('Back')} />

                        <div className="max-w-7xl mx-auto">
                            <h1 className={`text-3xl font-bold mb-6 ${isDark ? 'text-white' : 'text-gray-900'}`}>
                                CodeLens Visualizer - Java
                            </h1>

                            {error && (
                                <div className={`mb-6 p-4 rounded-lg ${isDark ? 'bg-red-900/30 border border-red-500' : 'bg-red-50 border border-red-300'}`}>
                                    <h3 className={`font-bold mb-1 ${isDark ? 'text-red-400' : 'text-red-700'}`}>Error</h3>
                                    <p className={`text-sm ${isDark ? 'text-red-300' : 'text-red-600'}`}>{error}</p>
                                </div>
                            )}

                            {isLoading && (
                                <div className={`mb-6 p-4 rounded-lg flex items-center gap-3 ${isDark ? 'bg-gray-800' : 'bg-white border border-gray-300'}`}>
                                    <div className={`w-8 h-8 rounded-full border-4 border-t-transparent animate-spin ${isDark ? 'border-blue-500' : 'border-blue-600'}`}></div>
                                    <span className={`text-sm ${isDark ? 'text-gray-300' : 'text-gray-700'}`}>Loading...</span>
                                </div>
                            )}

                            <ControlPanel
                                isExecuting={isExecuting}
                                currentStep={currentStep}
                                totalSteps={executionSteps.length}
                                currentLine={currentLine}
                                executionSpeed={executionSpeed}
                                onStart={handleStart}
                                onPause={handlePause}
                                onStepForward={handleStepForward}
                                onStepBackward={handleStepBackward}
                                onReset={handleReset}
                                onSpeedChange={setExecutionSpeed}
                                isDark={isDark}
                                disabled={isLoading}
                            />

                            <div className="grid grid-cols-1 lg:grid-cols-3 gap-6">
                                <div className="lg:col-span-2">
                                    <EditorPanel
                                        code={code}
                                        setCode={setCode}
                                        currentLine={currentLine}
                                        previousLine={previousLine}
                                        isDark={isDark}
                                        readOnly={isExecuting || isLoading}
                                    />
                                </div>

                                <div className="space-y-6">
                                    <CallStack stack={callStack} isDark={isDark} />
                                    <VariableStateDisplay variables={variables} isDark={isDark} />
                                    <OutputConsole output={output} isDark={isDark} />
                                </div>
                            </div>

                            <div className={`mt-6 text-center text-sm ${isDark ? 'text-gray-500' : 'text-gray-400'}`}>
                                {USE_MOCK_DATA ? '⚠️ Using Mock Data (Set USE_MOCK_DATA = false to use real API)' : 'Connected to Backend API'}
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        // ============ RENDER APP ============
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<CodeLensVisualizer />);
    </script>
</body>
</html>
